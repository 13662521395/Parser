"use strict";var trustTags={a:0,abbr:1,ad:0,audio:0,b:1,blockquote:1,br:0,code:1,col:0,colgroup:0,dd:1,del:1,dl:1,dt:1,div:1,em:1,fieldset:0,font:1,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,hr:0,i:1,img:1,ins:1,label:1,legend:0,li:0,ol:0,p:1,q:1,source:0,span:1,strong:1,sub:0,sup:0,table:0,tbody:0,td:0,tfoot:0,th:0,thead:0,tr:0,u:1,ul:0,video:1},blockTags={address:!0,article:!0,aside:!0,body:!0,center:!0,cite:!0,footer:!0,header:!0,html:!0,nav:!0,pre:!0,section:!0},ignoreTags={area:!0,base:!0,basefont:!0,canvas:!0,circle:!0,command:!0,ellipse:!0,embed:!0,frame:!0,head:!0,iframe:!0,input:!0,isindex:!0,keygen:!0,line:!0,link:!0,map:!0,meta:!0,param:!0,path:!0,polygon:!0,polyline:!0,rect:!0,script:!0,source:!0,textarea:!0,title:!0,track:!0,use:!0,wbr:!0},userAgentStyles={a:"display:inline;color:#366092;word-break:break-all;",address:"font-style:italic;",blockquote:"background-color:#f6f6f6;border-left:3px solid #dbdbdb;color:#6c6c6c;padding:5px 0 5px 10px;",center:"text-align:center;",cite:"font-style:italic;",code:"padding:0 1px 0 1px;margin-left:2px;margin-right:2px;background-color:#f8f8f8;border-radius:3px;",dd:"margin-left:40px;",img:"max-width:100%;",mark:"display:inline;background-color:yellow;",pre:"font-family:monospace;white-space:pre;overflow:scroll;",s:"display:inline;text-decoration:line-through;",u:"display:inline;text-decoration:underline;"},SDKVersion=wx.getSystemInfoSync().SDKVersion,versionHigherThan=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=SDKVersion.split("."),s=t.split("."),r=Math.max(e.length,s.length);e.length<r;)e.push("0");for(;s.length<r;)s.push("0");for(var a=0;a<r;a++){var i=parseInt(e[a]),l=parseInt(s[a]);if(i>l)return!0;if(i<l)return!1}return!0};versionHigherThan("2.7.1")?(trustTags.bdi=0,trustTags.bdo=0,trustTags.caption=0,trustTags.rt=0,trustTags.ruby=0,ignoreTags.rp=!0,trustTags.big=1,trustTags.small=1,trustTags.pre=0,delete blockTags.pre):(blockTags.caption=!0,userAgentStyles.big="display:inline;font-size:1.2em;",userAgentStyles.small="display:inline;font-size:0.8em;"),module.exports={highlight:null,LabelAttrsHandler:function(t,e){switch(t.name){case"div":case"p":t.attrs.align&&(t.attrs.style="text-align:"+t.attrs.align+";"+(t.attrs.style||""),delete t.attrs.align);break;case"img":t.attrs["data-src"]&&(t.attrs.src=t.attrs.src||t.attrs["data-src"],delete t.attrs["data-src"]),!t.attrs.ignore&&t.attrs.src&&(e.imgList.includes(t.attrs.src)&&t.attrs.src.includes("http")&&(t.attrs.src=t.attrs.src+(t.attrs.src.includes("?")?"&":"?")+"parserid="+e.imgList.length),e.imgList.push(t.attrs.src),"a"==e.bubbling()&&(t.attrs.ignore="true")),e._domain&&"/"==t.attrs.src[0]&&("/"==t.attrs.src[1]?t.attrs.src=e._protocol+":"+t.attrs.src:t.attrs.src=e._domain+t.attrs.src);break;case"a":case"ad":e.bubbling();break;case"font":if(name="span",t.attrs.style=t.attrs.style||"",t.attrs.color&&(t.attrs.style="color:"+t.attrs.color+";"+t.attrs.style,delete t.attrs.color),t.attrs.face&&(t.attrs.style="font-family:"+t.attrs.face+";"+t.attrs.style,delete t.attrs.face),t.attrs.size){var s=parseInt(attrs.size);s<1?s=1:s>7&&(s=7);var r=[10,13,16,18,24,32,48];t.attrs.style="font-size:"+r[s-1]+"px;"+t.attrs.style,delete t.attrs.size}break;case"video":case"audio":t.attrs.id?e["_"+t.name+"Num"]++:t.attrs.id=t.name+ ++e["_"+t.name+"Num"],"video"==t.name&&(t.attrs.style=t.attrs.style||"",t.attrs.width&&(t.attrs.style="width:"+parseFloat(t.attrs.width)+(t.attrs.width.includes("%")?"%":"px")+";"+t.attrs.style,delete t.attrs.width),t.attrs.height&&(t.attrs.style="height:"+parseFloat(t.attrs.height)+(t.attrs.height.includes("%")?"%":"px")+";"+t.attrs.style,delete t.attrs.height),e._videoNum>3&&(t.lazyLoad=!0)),t.attrs.source=[],t.attrs.src&&t.attrs.source.push(t.attrs.src),t.attrs.controls||t.attrs.autoplay||console.warn("存在没有controls属性的"+t.name+"标签，可能导致无法播放",t),e.bubbling();break;case"source":var a=e._STACK[e._STACK.length-1];!a||"video"!=a.name&&"audio"!=a.name||(a.attrs.source.push(t.attrs.src),a.attrs.src||(a.attrs.src=t.attrs.src))}},trustAttrs:{align:!0,alt:!0,author:!0,autoplay:!0,border:!0,cellpadding:!0,cellspacing:!0,class:!0,color:!0,colspan:!0,controls:!0,"data-src":!0,dir:!0,face:!0,height:!0,href:!0,id:!0,ignore:!0,loop:!0,muted:!0,name:!0,poster:!0,rowspan:!0,size:!0,span:!0,src:!0,start:!0,style:!0,type:!0,"unit-id":!0,width:!0},selfClosingTags:{area:!0,base:!0,basefont:!0,br:!0,col:!0,circle:!0,ellipse:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,line:!0,link:!0,meta:!0,param:!0,path:!0,polygon:!0,polyline:!0,rect:!0,source:!0,track:!0,use:!0,wbr:!0},trustTags:trustTags,blockTags:blockTags,ignoreTags:ignoreTags,userAgentStyles:userAgentStyles,versionHigherThan:versionHigherThan};